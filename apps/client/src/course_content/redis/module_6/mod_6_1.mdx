# Introduction to RedisSearch

Redis is famously fast at getting data by a **Key**. But what if you don't know the key? What if you want to find all users who live in "New York" OR find all products that have "keyboard" in their description?

Usually, you would need a SQL database or a search engine like Elasticsearch for this. But with the **RedisSearch** module, Redis becomes a powerful, high-performance search engine.

---

## 1. What is RedisSearch?

RedisSearch is a **Module** (an extension) for Redis that adds full-text search, secondary indexing, and an advanced query language.

### Why use it?

- **Speed:** It is built on top of the ultra-fast Redis core. It is often much faster than traditional search engines.
- **Unified Data:** You don't have to synchonize your data between Redis (for caching) and another database (for searching). Everything stays in one place.
- **Complex Queries:** It supports "AND," "OR," "NOT," numeric ranges, and even "fuzziness" (matching words that are spelled similarly).

---

## 2. Core Concepts: The Index

In standard Redis, you just save data. In RedisSearch, you must first create an **Index**. An index is like a "Map" that tells Redis which parts of your data you want to be able to search for.

### Defining an Index

Imagine you have "Book" data stored in Redis Hashes.

```bash
# Create an index called 'idx:books'
FT.CREATE idx:books
    ON HASH
    PREFIX 1 book:
    SCHEMA
        title TEXT WEIGHT 5.0
        author TEXT
        price NUMERIC
        published_year NUMERIC SORTABLE
```

- `ON HASH`: Tells it to look at your Hash data.
- `PREFIX 1 book:`: Only index keys that start with `book:`.
- `SCHEMA`: Defines the fields. `TEXT` is for searchable words, `NUMERIC` is for numbers. `WEIGHT` tells Redis that the title is more important than the other fields when ranking results.

---

## 3. Basic Searching

Once the index is created, you use the `FT.SEARCH` command.

```bash
# Find books with "Redis" in the title or author
FT.SEARCH idx:books "Redis"

# Find books with "Redis" published after 2020
FT.SEARCH idx:books "Redis @published_year:[2021 +inf]"
```

---

## Real-World Example: An Instant Autocomplete

Imagine you are typing in the search bar of a clothing site. As you type "sh", it instantly shows "Shirts," "Shoes," and "Shorts."

1. **The Strategy:** Use RedisSearch with **Prefix Matching**.
2. **The Command:** `FT.SEARCH idx:products "sh*"`
3. **The Result:** Because RedisSearch is in-memory, it can return these suggestions in under 1 millisecond, providing a "fluid" feel to the user as they type.

---

## Hypothetical Scenario: The "Job Board" Filters

You have a job board with 100,000 listings. A user wants to find "Remote" jobs in "Engineering" that pay more than "$100,000".

- **Normal Redis:** Impossible without fetching all 100,000 keys and checking them one by one.
- **RedisSearch:**
  `FT.SEARCH idx:jobs "@location:Remote @category:Engineering @salary:[100000 +inf]"`
- **Outcome:** Redis identifies the exact 15 jobs that match in a fraction of a second.

## Exercises

1. **Index Design:** If you were indexing a "User" profile, which fields would you make `TEXT` and which would you make `NUMERIC`?
2. **Search Logic:** How would you write a search query to find books by "Stephen King" that cost less than "$20"?
3. **The Module Advantage:** What is one benefit of using RedisSearch instead of just sending all your data to a separate search engine like Elasticsearch?

## Summary and Next Steps

RedisSearch transforms Redis from a simple storage box into a sophisticated search tool. It allows you to query your data in ways that were previously impossible without using much heavier systems.

In the next lesson, we will look at how to perform even more advanced queries and how to handle **Ranking and Scoring**.
